{"version":3,"file":"colyseus.js","sources":["../src/legacy.ts","../src/errors/ServerError.ts","../src/msgpack/index.ts","../src/transport/WebSocketTransport.ts","../src/Connection.ts","../src/serializer/Serializer.ts","../src/Protocol.ts","../src/core/signal.ts","../src/Room.ts","../src/Storage.ts","../src/Auth.ts","../src/Client.ts","../src/serializer/SchemaSerializer.ts","../src/serializer/NoneSerializer.ts","../src/index.ts"],"sourcesContent":["//\n// Polyfills for legacy environments\n//\n\n/*\n * Support Android 4.4.x\n */\nif (!ArrayBuffer.isView) {\n    ArrayBuffer.isView = (a: any): a is ArrayBufferView => {\n        return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\n    };\n}\n\n// Define globalThis if not available.\n// https://github.com/colyseus/colyseus.js/issues/86\nif (\n    typeof (globalThis) === \"undefined\" &&\n    typeof (window) !== \"undefined\"\n) {\n    // @ts-ignore\n    window['globalThis'] = window;\n}","\nexport class ServerError extends Error {\n  public code: number;\n\n  constructor(code: number, message: string) {\n    super(message);\n\n    this.name = \"ServerError\";\n    this.code = code;\n  }\n}\n","/**\n * Copyright (c) 2014 Ion Drive Software Ltd.\n * https://github.com/darrachequesne/notepack/\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Patch for Colyseus:\n * -------------------\n *\n * added `offset` on Decoder constructor, for messages arriving with a code\n * before actual msgpack data\n */\n\n// \n// DECODER\n// \n\nfunction Decoder(buffer, offset) {\n    this._offset = offset;\n    if (buffer instanceof ArrayBuffer) {\n        this._buffer = buffer;\n        this._view = new DataView(this._buffer);\n    } else if (ArrayBuffer.isView(buffer)) {\n        this._buffer = buffer.buffer;\n        this._view = new DataView(this._buffer, buffer.byteOffset, buffer.byteLength);\n    } else {\n        throw new Error('Invalid argument');\n    }\n}\n\nfunction utf8Read(view, offset, length) {\n    var string = '', chr = 0;\n    for (var i = offset, end = offset + length; i < end; i++) {\n        var byte = view.getUint8(i);\n        if ((byte & 0x80) === 0x00) {\n            string += String.fromCharCode(byte);\n            continue;\n        }\n        if ((byte & 0xe0) === 0xc0) {\n            string += String.fromCharCode(\n                ((byte & 0x1f) << 6) |\n                (view.getUint8(++i) & 0x3f)\n            );\n            continue;\n        }\n        if ((byte & 0xf0) === 0xe0) {\n            string += String.fromCharCode(\n                ((byte & 0x0f) << 12) |\n                ((view.getUint8(++i) & 0x3f) << 6) |\n                ((view.getUint8(++i) & 0x3f) << 0)\n            );\n            continue;\n        }\n        if ((byte & 0xf8) === 0xf0) {\n            chr = ((byte & 0x07) << 18) |\n                ((view.getUint8(++i) & 0x3f) << 12) |\n                ((view.getUint8(++i) & 0x3f) << 6) |\n                ((view.getUint8(++i) & 0x3f) << 0);\n            if (chr >= 0x010000) { // surrogate pair\n                chr -= 0x010000;\n                string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n            } else {\n                string += String.fromCharCode(chr);\n            }\n            continue;\n        }\n        throw new Error('Invalid byte ' + byte.toString(16));\n    }\n    return string;\n}\n\nDecoder.prototype._array = function (length) {\n    var value = new Array(length);\n    for (var i = 0; i < length; i++) {\n        value[i] = this._parse();\n    }\n    return value;\n};\n\nDecoder.prototype._map = function (length) {\n    var key = '', value = {};\n    for (var i = 0; i < length; i++) {\n        key = this._parse();\n        value[key] = this._parse();\n    }\n    return value;\n};\n\nDecoder.prototype._str = function (length) {\n    var value = utf8Read(this._view, this._offset, length);\n    this._offset += length;\n    return value;\n};\n\nDecoder.prototype._bin = function (length) {\n    var value = this._buffer.slice(this._offset, this._offset + length);\n    this._offset += length;\n    return value;\n};\n\nDecoder.prototype._parse = function () {\n    var prefix = this._view.getUint8(this._offset++);\n    var value, length = 0, type = 0, hi = 0, lo = 0;\n\n    if (prefix < 0xc0) {\n        // positive fixint\n        if (prefix < 0x80) {\n            return prefix;\n        }\n        // fixmap\n        if (prefix < 0x90) {\n            return this._map(prefix & 0x0f);\n        }\n        // fixarray\n        if (prefix < 0xa0) {\n            return this._array(prefix & 0x0f);\n        }\n        // fixstr\n        return this._str(prefix & 0x1f);\n    }\n\n    // negative fixint\n    if (prefix > 0xdf) {\n        return (0xff - prefix + 1) * -1;\n    }\n\n    switch (prefix) {\n        // nil\n        case 0xc0:\n            return null;\n        // false\n        case 0xc2:\n            return false;\n        // true\n        case 0xc3:\n            return true;\n\n        // bin\n        case 0xc4:\n            length = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return this._bin(length);\n        case 0xc5:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._bin(length);\n        case 0xc6:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._bin(length);\n\n        // ext\n        case 0xc7:\n            length = this._view.getUint8(this._offset);\n            type = this._view.getInt8(this._offset + 1);\n            this._offset += 2;\n            return [type, this._bin(length)];\n        case 0xc8:\n            length = this._view.getUint16(this._offset);\n            type = this._view.getInt8(this._offset + 2);\n            this._offset += 3;\n            return [type, this._bin(length)];\n        case 0xc9:\n            length = this._view.getUint32(this._offset);\n            type = this._view.getInt8(this._offset + 4);\n            this._offset += 5;\n            return [type, this._bin(length)];\n\n        // float\n        case 0xca:\n            value = this._view.getFloat32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xcb:\n            value = this._view.getFloat64(this._offset);\n            this._offset += 8;\n            return value;\n\n        // uint\n        case 0xcc:\n            value = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return value;\n        case 0xcd:\n            value = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return value;\n        case 0xce:\n            value = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xcf:\n            hi = this._view.getUint32(this._offset) * Math.pow(2, 32);\n            lo = this._view.getUint32(this._offset + 4);\n            this._offset += 8;\n            return hi + lo;\n\n        // int\n        case 0xd0:\n            value = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return value;\n        case 0xd1:\n            value = this._view.getInt16(this._offset);\n            this._offset += 2;\n            return value;\n        case 0xd2:\n            value = this._view.getInt32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xd3:\n            hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\n            lo = this._view.getUint32(this._offset + 4);\n            this._offset += 8;\n            return hi + lo;\n\n        // fixext\n        case 0xd4:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            if (type === 0x00) {\n                this._offset += 1;\n                return void 0;\n            }\n            return [type, this._bin(1)];\n        case 0xd5:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(2)];\n        case 0xd6:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(4)];\n        case 0xd7:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            if (type === 0x00) {\n                hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\n                lo = this._view.getUint32(this._offset + 4);\n                this._offset += 8;\n                return new Date(hi + lo);\n            }\n            return [type, this._bin(8)];\n        case 0xd8:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(16)];\n\n        // str\n        case 0xd9:\n            length = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return this._str(length);\n        case 0xda:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._str(length);\n        case 0xdb:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._str(length);\n\n        // array\n        case 0xdc:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._array(length);\n        case 0xdd:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._array(length);\n\n        // map\n        case 0xde:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._map(length);\n        case 0xdf:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._map(length);\n    }\n\n    throw new Error('Could not parse');\n};\n\nfunction decode(buffer, offset = 0) {\n    var decoder = new Decoder(buffer, offset);\n    var value = decoder._parse();\n    if (decoder._offset !== buffer.byteLength) {\n        throw new Error((buffer.byteLength - decoder._offset) + ' trailing bytes');\n    }\n    return value;\n}\n\n// \n// ENCODER\n// \n\nfunction utf8Write(view, offset, str) {\n    var c = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            view.setUint8(offset++, c);\n        }\n        else if (c < 0x800) {\n            view.setUint8(offset++, 0xc0 | (c >> 6));\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            view.setUint8(offset++, 0xe0 | (c >> 12));\n            view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n        else {\n            i++;\n            c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n            view.setUint8(offset++, 0xf0 | (c >> 18));\n            view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n    }\n}\n\nfunction utf8Length(str) {\n    var c = 0, length = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n\nfunction _encode(bytes, defers, value) {\n    var type = typeof value, i = 0, l = 0, hi = 0, lo = 0, length = 0, size = 0;\n\n    if (type === 'string') {\n        length = utf8Length(value);\n\n        // fixstr\n        if (length < 0x20) {\n            bytes.push(length | 0xa0);\n            size = 1;\n        }\n        // str 8\n        else if (length < 0x100) {\n            bytes.push(0xd9, length);\n            size = 2;\n        }\n        // str 16\n        else if (length < 0x10000) {\n            bytes.push(0xda, length >> 8, length);\n            size = 3;\n        }\n        // str 32\n        else if (length < 0x100000000) {\n            bytes.push(0xdb, length >> 24, length >> 16, length >> 8, length);\n            size = 5;\n        } else {\n            throw new Error('String too long');\n        }\n        defers.push({ _str: value, _length: length, _offset: bytes.length });\n        return size + length;\n    }\n    if (type === 'number') {\n        // TODO: encode to float 32?\n\n        // float 64\n        if (Math.floor(value) !== value || !isFinite(value)) {\n            bytes.push(0xcb);\n            defers.push({ _float: value, _length: 8, _offset: bytes.length });\n            return 9;\n        }\n\n        if (value >= 0) {\n            // positive fixnum\n            if (value < 0x80) {\n                bytes.push(value);\n                return 1;\n            }\n            // uint 8\n            if (value < 0x100) {\n                bytes.push(0xcc, value);\n                return 2;\n            }\n            // uint 16\n            if (value < 0x10000) {\n                bytes.push(0xcd, value >> 8, value);\n                return 3;\n            }\n            // uint 32\n            if (value < 0x100000000) {\n                bytes.push(0xce, value >> 24, value >> 16, value >> 8, value);\n                return 5;\n            }\n            // uint 64\n            hi = (value / Math.pow(2, 32)) >> 0;\n            lo = value >>> 0;\n            bytes.push(0xcf, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 9;\n        } else {\n            // negative fixnum\n            if (value >= -0x20) {\n                bytes.push(value);\n                return 1;\n            }\n            // int 8\n            if (value >= -0x80) {\n                bytes.push(0xd0, value);\n                return 2;\n            }\n            // int 16\n            if (value >= -0x8000) {\n                bytes.push(0xd1, value >> 8, value);\n                return 3;\n            }\n            // int 32\n            if (value >= -0x80000000) {\n                bytes.push(0xd2, value >> 24, value >> 16, value >> 8, value);\n                return 5;\n            }\n            // int 64\n            hi = Math.floor(value / Math.pow(2, 32));\n            lo = value >>> 0;\n            bytes.push(0xd3, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 9;\n        }\n    }\n    if (type === 'object') {\n        // nil\n        if (value === null) {\n            bytes.push(0xc0);\n            return 1;\n        }\n\n        if (Array.isArray(value)) {\n            length = value.length;\n\n            // fixarray\n            if (length < 0x10) {\n                bytes.push(length | 0x90);\n                size = 1;\n            }\n            // array 16\n            else if (length < 0x10000) {\n                bytes.push(0xdc, length >> 8, length);\n                size = 3;\n            }\n            // array 32\n            else if (length < 0x100000000) {\n                bytes.push(0xdd, length >> 24, length >> 16, length >> 8, length);\n                size = 5;\n            } else {\n                throw new Error('Array too large');\n            }\n            for (i = 0; i < length; i++) {\n                size += _encode(bytes, defers, value[i]);\n            }\n            return size;\n        }\n\n        // fixext 8 / Date\n        if (value instanceof Date) {\n            var time = value.getTime();\n            hi = Math.floor(time / Math.pow(2, 32));\n            lo = time >>> 0;\n            bytes.push(0xd7, 0, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 10;\n        }\n\n        if (value instanceof ArrayBuffer) {\n            length = value.byteLength;\n\n            // bin 8\n            if (length < 0x100) {\n                bytes.push(0xc4, length);\n                size = 2;\n            } else\n                // bin 16\n                if (length < 0x10000) {\n                    bytes.push(0xc5, length >> 8, length);\n                    size = 3;\n                } else\n                    // bin 32\n                    if (length < 0x100000000) {\n                        bytes.push(0xc6, length >> 24, length >> 16, length >> 8, length);\n                        size = 5;\n                    } else {\n                        throw new Error('Buffer too large');\n                    }\n            defers.push({ _bin: value, _length: length, _offset: bytes.length });\n            return size + length;\n        }\n\n        if (typeof value.toJSON === 'function') {\n            return _encode(bytes, defers, value.toJSON());\n        }\n\n        var keys = [], key = '';\n\n        var allKeys = Object.keys(value);\n        for (i = 0, l = allKeys.length; i < l; i++) {\n            key = allKeys[i];\n            if (typeof value[key] !== 'function') {\n                keys.push(key);\n            }\n        }\n        length = keys.length;\n\n        // fixmap\n        if (length < 0x10) {\n            bytes.push(length | 0x80);\n            size = 1;\n        }\n        // map 16\n        else if (length < 0x10000) {\n            bytes.push(0xde, length >> 8, length);\n            size = 3;\n        }\n        // map 32\n        else if (length < 0x100000000) {\n            bytes.push(0xdf, length >> 24, length >> 16, length >> 8, length);\n            size = 5;\n        } else {\n            throw new Error('Object too large');\n        }\n\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            size += _encode(bytes, defers, key);\n            size += _encode(bytes, defers, value[key]);\n        }\n        return size;\n    }\n    // false/true\n    if (type === 'boolean') {\n        bytes.push(value ? 0xc3 : 0xc2);\n        return 1;\n    }\n    // fixext 1 / undefined\n    if (type === 'undefined') {\n        bytes.push(0xd4, 0, 0);\n        return 3;\n    }\n    throw new Error('Could not encode');\n}\n\nfunction encode(value) {\n    var bytes = [];\n    var defers = [];\n    var size = _encode(bytes, defers, value);\n    var buf = new ArrayBuffer(size);\n    var view = new DataView(buf);\n\n    var deferIndex = 0;\n    var deferWritten = 0;\n    var nextOffset = -1;\n    if (defers.length > 0) {\n        nextOffset = defers[0]._offset;\n    }\n\n    var defer, deferLength = 0, offset = 0;\n    for (var i = 0, l = bytes.length; i < l; i++) {\n        view.setUint8(deferWritten + i, bytes[i]);\n        if (i + 1 !== nextOffset) { continue; }\n        defer = defers[deferIndex];\n        deferLength = defer._length;\n        offset = deferWritten + nextOffset;\n        if (defer._bin) {\n            var bin = new Uint8Array(defer._bin);\n            for (var j = 0; j < deferLength; j++) {\n                view.setUint8(offset + j, bin[j]);\n            }\n        } else if (defer._str) {\n            utf8Write(view, offset, defer._str);\n        } else if (defer._float !== undefined) {\n            view.setFloat64(offset, defer._float);\n        }\n        deferIndex++;\n        deferWritten += deferLength;\n        if (defers[deferIndex]) {\n            nextOffset = defers[deferIndex]._offset;\n        }\n    }\n    return buf;\n}\n\nexport { encode, decode };","import NodeWebSocket from \"ws\";\nimport { ITransport, ITransportEventMap } from \"./ITransport\";\n\nconst WebSocket = globalThis.WebSocket || NodeWebSocket;\n\nexport class WebSocketTransport implements ITransport {\n    ws: WebSocket | NodeWebSocket;\n    protocols?: string | string[];\n\n    constructor(public events: ITransportEventMap) {}\n\n    public send(data: ArrayBuffer | Array<number>): void {\n        if (data instanceof ArrayBuffer) {\n            this.ws.send(data);\n\n        } else if (Array.isArray(data)) {\n            this.ws.send((new Uint8Array(data)).buffer);\n        }\n    }\n\n    public connect(url: string) {\n        this.ws = new WebSocket(url, this.protocols);\n        this.ws.binaryType = 'arraybuffer';\n        this.ws.onopen = this.events.onopen;\n        this.ws.onmessage = this.events.onmessage;\n        this.ws.onclose = this.events.onclose;\n        this.ws.onerror = this.events.onerror;\n    }\n\n    public close(code?: number, reason?: string) {\n        this.ws.close(code, reason);\n    }\n\n}","import { ITransport, ITransportEventMap } from \"./transport/ITransport\";\nimport { WebSocketTransport } from \"./transport/WebSocketTransport\";\n\nexport class Connection implements ITransport {\n    transport: ITransport;\n    events: ITransportEventMap = {};\n\n    constructor() {\n        this.transport = new WebSocketTransport(this.events);\n    }\n\n    send(data: ArrayBuffer | Array<number>): void {\n        this.transport.send(data);\n    }\n\n    connect(url: string): void {\n        this.transport.connect(url);\n    }\n\n    close(code?: number, reason?: string): void {\n        this.transport.close(code, reason);\n    }\n\n}\n","export interface Serializer<State> {\n    setState(data: any): void;\n    getState(): State;\n\n    patch(data: any): void;\n    teardown(): void;\n\n    handshake?(bytes: number[], it?: any): void;\n}\n\nconst serializers: { [id: string]: any } = {};\n\nexport function registerSerializer (id: string, serializer: any) {\n    serializers[id] = serializer;\n}\n\nexport function getSerializer (id: string) {\n    const serializer = serializers[id];\n    if (!serializer) { throw new Error(\"missing serializer: \" + id); }\n    return serializer;\n}","// Use codes between 0~127 for lesser throughput (1 byte)\n\nexport enum Protocol {\n    // Room-related (10~19)\n    HANDSHAKE = 9,\n    JOIN_ROOM = 10,\n    ERROR = 11,\n    LEAVE_ROOM = 12,\n    ROOM_DATA = 13,\n    ROOM_STATE = 14,\n    ROOM_STATE_PATCH = 15,\n    ROOM_DATA_SCHEMA = 16,\n}\n\nexport enum ErrorCode {\n    MATCHMAKE_NO_HANDLER = 4210,\n    MATCHMAKE_INVALID_CRITERIA = 4211,\n    MATCHMAKE_INVALID_ROOM_ID = 4212,\n    MATCHMAKE_UNHANDLED = 4213,\n    MATCHMAKE_EXPIRED = 4214,\n\n    AUTH_FAILED = 4215,\n    APPLICATION_ERROR = 4216,\n}\n\nexport function utf8Read(view: number[], offset: number) {\n  const length = view[offset++];\n\n  var string = '', chr = 0;\n  for (var i = offset, end = offset + length; i < end; i++) {\n    var byte = view[i];\n    if ((byte & 0x80) === 0x00) {\n      string += String.fromCharCode(byte);\n      continue;\n    }\n    if ((byte & 0xe0) === 0xc0) {\n      string += String.fromCharCode(\n        ((byte & 0x1f) << 6) |\n        (view[++i] & 0x3f)\n      );\n      continue;\n    }\n    if ((byte & 0xf0) === 0xe0) {\n      string += String.fromCharCode(\n        ((byte & 0x0f) << 12) |\n        ((view[++i] & 0x3f) << 6) |\n        ((view[++i] & 0x3f) << 0)\n      );\n      continue;\n    }\n    if ((byte & 0xf8) === 0xf0) {\n      chr = ((byte & 0x07) << 18) |\n        ((view[++i] & 0x3f) << 12) |\n        ((view[++i] & 0x3f) << 6) |\n        ((view[++i] & 0x3f) << 0);\n      if (chr >= 0x010000) { // surrogate pair\n        chr -= 0x010000;\n        string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n      } else {\n        string += String.fromCharCode(chr);\n      }\n      continue;\n    }\n    throw new Error('Invalid byte ' + byte.toString(16));\n  }\n  return string;\n}\n\n// Faster for short strings than Buffer.byteLength\nexport function utf8Length(str: string = '') {\n  let c = 0;\n  let length = 0;\n  for (let i = 0, l = str.length; i < l; i++) {\n    c = str.charCodeAt(i);\n    if (c < 0x80) {\n      length += 1;\n    } else if (c < 0x800) {\n      length += 2;\n    } else if (c < 0xd800 || c >= 0xe000) {\n      length += 3;\n    } else {\n      i++;\n      length += 4;\n    }\n  }\n  return length + 1;\n}\n","type FunctionParameters<T extends (...args: any[]) => any> =\n  T extends (...args: infer P) => any\n    ? P\n    : never;\n\nexport class EventEmitter<CallbackSignature extends (...args: any[]) => any> {\n  handlers: Array<CallbackSignature> = [];\n\n  register(cb: CallbackSignature, once: boolean = false) {\n    this.handlers.push(cb);\n    return this;\n  }\n\n  invoke(...args: FunctionParameters<CallbackSignature>) {\n    this.handlers.forEach((handler) => handler.apply(this, args));\n  }\n\n  invokeAsync(...args: FunctionParameters<CallbackSignature>) {\n    return Promise.all(this.handlers.map((handler) => handler.apply(this, args)));\n  }\n\n  remove (cb: CallbackSignature) {\n    const index = this.handlers.indexOf(cb);\n    this.handlers[index] = this.handlers[this.handlers.length - 1];\n    this.handlers.pop();\n  }\n\n  clear() {\n    this.handlers = [];\n  }\n}\n\nexport function createSignal<CallbackSignature extends (...args: any[]) => void | Promise<any>>()\n  : \n   {\n    once: (cb: CallbackSignature) => void;\n    remove: (cb: CallbackSignature) => void,\n    invoke: (...args: FunctionParameters<CallbackSignature>) => void,\n    invokeAsync: (...args: FunctionParameters<CallbackSignature>) => Promise<any[]>,\n    clear: () => void,\n  } & ((this: any, cb: CallbackSignature) => EventEmitter<CallbackSignature> )\n  {\n  const emitter = new EventEmitter<CallbackSignature>();\n\n  function register(this: any, cb: CallbackSignature): EventEmitter<CallbackSignature> {\n    return emitter.register(cb, this === null);\n  };\n\n  register.once = (cb: CallbackSignature) => {\n    const callback: any = function (...args: any[]) {\n      cb.apply(this, args);\n      emitter.remove(callback);\n    }\n    emitter.register(callback);\n  }\n  register.remove = (cb: CallbackSignature) => emitter.remove(cb)\n  register.invoke = (...args: FunctionParameters<CallbackSignature>) => emitter.invoke(...args);\n  register.invokeAsync = (...args: FunctionParameters<CallbackSignature>) => emitter.invokeAsync(...args);\n  register.clear = () => emitter.clear();\n\n  return register;\n}","import * as msgpack from './msgpack';\n\nimport { Connection } from './Connection';\nimport { Serializer, getSerializer } from './serializer/Serializer';\nimport { Protocol, utf8Read, utf8Length } from './Protocol';\n\n// The unused imports here are important for better `.d.ts` file generation\n// (Later merged with `dts-bundle-generator`)\nimport { createNanoEvents, DefaultEvents, Emitter } from 'nanoevents';\nimport { createSignal, EventEmitter } from './core/signal';\n\nimport { SchemaSerializer, SchemaConstructor } from './serializer/SchemaSerializer';\nimport { Context, Schema, encode, decode } from '@colyseus/schema';\n\nexport interface RoomAvailable<Metadata = any> {\n    roomId: string;\n    clients: number;\n    maxClients: number;\n    metadata?: Metadata;\n}\n\nexport class Room<State= any> {\n    public roomId: string;\n    public sessionId: string;\n\n    public name: string;\n    public connection: Connection;\n\n    // Public signals\n    public onStateChange = createSignal<(state: State) => void>();\n    public onError = createSignal<(code: number, message?: string) => void>();\n    public onLeave = createSignal<(code: number) => void>();\n    protected onJoin = createSignal();\n\n    public serializerId: string;\n    protected serializer: Serializer<State>;\n\n    protected hasJoined: boolean = false;\n\n    // TODO: remove me on 1.0.0\n    protected rootSchema: SchemaConstructor<State>;\n\n    protected onMessageHandlers = createNanoEvents();\n\n    constructor(name: string, rootSchema?: SchemaConstructor<State>) {\n        this.roomId = null;\n        this.name = name;\n\n        if (rootSchema) {\n            this.serializer = new (getSerializer(\"schema\"));\n            this.rootSchema = rootSchema;\n            (this.serializer as SchemaSerializer).state = new rootSchema();\n        }\n\n        this.onError((code, message) => console.warn(`colyseus.js - onError => (${code}) ${message}`));\n        this.onLeave(() => this.removeAllListeners());\n    }\n\n    // TODO: deprecate me on version 1.0\n    get id() { return this.roomId; }\n\n    public connect(endpoint: string) {\n        this.connection = new Connection();\n        this.connection.events.onmessage = this.onMessageCallback.bind(this);\n        this.connection.events.onclose = (e: CloseEvent) => {\n            if (!this.hasJoined) {\n                console.warn(`Room connection was closed unexpectedly (${e.code}): ${e.reason}`);\n                this.onError.invoke(e.code, e.reason);\n                return;\n            }\n\n            this.onLeave.invoke(e.code);\n            this.destroy();\n        };\n        this.connection.events.onerror = (e: CloseEvent) => {\n            console.warn(`Room, onError (${e.code}): ${e.reason}`);\n            this.onError.invoke(e.code, e.reason);\n        };\n        this.connection.connect(endpoint);\n    }\n\n    public leave(consented: boolean = true): Promise<number> {\n        return new Promise((resolve) => {\n            this.onLeave((code) => resolve(code));\n\n            if (this.connection) {\n                if (consented) {\n                    this.connection.send([Protocol.LEAVE_ROOM]);\n\n                } else {\n                    this.connection.close();\n                }\n\n            } else {\n                this.onLeave.invoke(4000); // \"consented\" code\n            }\n        });\n    }\n\n    public onMessage<T = any>(\n        type: \"*\",\n        callback: (type: string | number | Schema, message: T) => void\n    )\n    public onMessage<T extends (typeof Schema & (new (...args: any[]) => any))>(\n        type: T,\n        callback: (message: InstanceType<T>) => void\n    )\n    public onMessage<T = any>(\n        type: string | number,\n        callback: (message: T) => void\n    )\n    public onMessage(\n        type: '*' | string | number | typeof Schema,\n        callback: (...args: any[]) => void\n    ) {\n        return this.onMessageHandlers.on(this.getMessageHandlerKey(type), callback);\n    }\n\n    public send(type: string | number, message?: any): void {\n        const initialBytes: number[] = [Protocol.ROOM_DATA];\n\n        if (typeof(type) === \"string\") {\n            encode.string(initialBytes, type);\n\n        } else {\n            encode.number(initialBytes, type);\n        }\n\n        let arr: Uint8Array;\n\n        if (message !== undefined) {\n            const encoded = msgpack.encode(message);\n            arr = new Uint8Array(initialBytes.length + encoded.byteLength);\n            arr.set(new Uint8Array(initialBytes), 0);\n            arr.set(new Uint8Array(encoded), initialBytes.length);\n\n        } else {\n            arr = new Uint8Array(initialBytes);\n        }\n\n        this.connection.send(arr.buffer);\n    }\n\n    public get state (): State {\n        return this.serializer.getState();\n    }\n\n    public removeAllListeners() {\n        this.onJoin.clear();\n        this.onStateChange.clear();\n        this.onError.clear();\n        this.onLeave.clear();\n        this.onMessageHandlers.events = {};\n    }\n\n    protected onMessageCallback(event: MessageEvent) {\n        const bytes = Array.from(new Uint8Array(event.data))\n        const code = bytes[0];\n\n        if (code === Protocol.JOIN_ROOM) {\n            let offset = 1;\n\n            this.serializerId = utf8Read(bytes, offset);\n            offset += utf8Length(this.serializerId);\n\n            // Instantiate serializer if not locally available.\n            if (!this.serializer) {\n                const serializer = getSerializer(this.serializerId)\n                this.serializer = new serializer();\n            }\n\n            if (bytes.length > offset && this.serializer.handshake) {\n                this.serializer.handshake(bytes, { offset });\n            }\n\n            this.hasJoined = true;\n            this.onJoin.invoke();\n\n            // acknowledge successfull JOIN_ROOM\n            this.connection.send([Protocol.JOIN_ROOM]);\n\n        } else if (code === Protocol.ERROR) {\n            const it: decode.Iterator = { offset: 1 };\n\n            const code = decode.number(bytes, it);\n            const message = decode.string(bytes, it);\n\n            this.onError.invoke(code, message);\n\n        } else if (code === Protocol.LEAVE_ROOM) {\n            this.leave();\n\n        } else if (code === Protocol.ROOM_DATA_SCHEMA) {\n            const it = { offset: 1 };\n\n            const context: Context = (this.serializer.getState() as any).constructor._context;\n            const type = context.get(decode.number(bytes, it));\n\n            const message: Schema = new (type as any)();\n            message.decode(bytes, it);\n\n            this.dispatchMessage(type, message);\n\n        } else if (code === Protocol.ROOM_STATE) {\n            bytes.shift(); // drop `code` byte\n            this.setState(bytes);\n\n        } else if (code === Protocol.ROOM_STATE_PATCH) {\n            bytes.shift(); // drop `code` byte\n            this.patch(bytes);\n\n        } else if (code === Protocol.ROOM_DATA) {\n            const it: decode.Iterator = { offset: 1 };\n\n            const type = (decode.stringCheck(bytes, it))\n                ? decode.string(bytes, it)\n                : decode.number(bytes, it);\n\n            const message = (bytes.length > it.offset)\n                ? msgpack.decode(event.data, it.offset)\n                : undefined;\n\n            this.dispatchMessage(type, message);\n        }\n    }\n\n    protected setState(encodedState: number[]): void {\n        this.serializer.setState(encodedState);\n        this.onStateChange.invoke(this.serializer.getState());\n    }\n\n    protected patch(binaryPatch: number[]) {\n        this.serializer.patch(binaryPatch);\n        this.onStateChange.invoke(this.serializer.getState());\n    }\n\n    private dispatchMessage(type: string | number | typeof Schema, message: any) {\n        const messageType = this.getMessageHandlerKey(type);\n\n        if (this.onMessageHandlers.events[messageType]) {\n            this.onMessageHandlers.emit(messageType, message);\n\n        } else if (this.onMessageHandlers.events['*']) {\n            this.onMessageHandlers.emit('*', type, message);\n\n        } else {\n            console.warn(`colyseus.js: onMessage() not registered for type '${type}'.`);\n        }\n    }\n\n    private destroy () {\n        if (this.serializer) {\n            this.serializer.teardown();\n        }\n    }\n\n    private getMessageHandlerKey(type: string | number | typeof Schema): string {\n        switch (typeof(type)) {\n            // typeof Schema\n            case \"function\": return `$${(type as typeof Schema)._typeid}`;\n\n            // string\n            case \"string\": return type;\n\n            // number\n            case \"number\": return `i${type}`;\n\n            default: throw new Error(\"invalid message type.\");\n        }\n    }\n\n}\n","/// <reference path=\"../typings/cocos-creator.d.ts\" />\n\n/**\n * We do not assign 'storage' to window.localStorage immediatelly for React\n * Native compatibility. window.localStorage is not present when this module is\n * loaded.\n */\n\nlet storage: any;\n\nfunction getStorage(): Storage {\n    if (!storage)  {\n        storage = (typeof (cc) !== 'undefined' && cc.sys && cc.sys.localStorage)\n            ? cc.sys.localStorage  // compatibility with cocos creator\n            : typeof (window) !== \"undefined\" && window.localStorage //RN does have window object at this point, but localStorage is not defined\n                ? window.localStorage // regular browser environment\n                : { // mock localStorage for Node.js or RN environment\n                    cache: {},\n                    setItem: function(key, value) { this.cache[key] = value; },\n                    getItem: function(key) { this.cache[key]; },\n                    removeItem: function(key) { delete this.cache[key]; },\n                };\n\n    }\n    return storage;\n}\n\nexport function setItem(key: string, value: string) {\n    getStorage().setItem(key, value);\n}\n\nexport function removeItem(key: string) {\n    getStorage().removeItem(key);\n}\n\nexport function getItem(key: string, callback: Function) {\n    const value: any = getStorage().getItem(key);\n\n    if (\n        typeof (Promise) === 'undefined' || // old browsers\n        !(value instanceof Promise)\n    ) {\n        // browser has synchronous return\n        callback(value);\n\n    } else {\n        // react-native is asynchronous\n        value.then((id) => callback(id));\n    }\n}\n","import * as http from \"httpie\";\nimport { getItem, setItem, removeItem } from \"./Storage\";\n\nconst TOKEN_STORAGE = \"colyseus-auth-token\";\n\nexport enum Platform {\n    ios = \"ios\",\n    android = \"android\",\n}\n\nexport interface Device {\n    id: string,\n    platform: Platform\n}\n\nexport interface IStatus {\n    status: boolean;\n}\n\nexport interface IUser {\n    _id: string;\n    username: string;\n    displayName: string;\n    avatarUrl: string;\n\n    isAnonymous: boolean;\n    email: string;\n\n    lang: string;\n    location: string;\n    timezone: string;\n    metadata: any;\n\n    devices: Device[];\n\n    facebookId: string;\n    twitterId: string;\n    googleId: string;\n    gameCenterId: string;\n    steamId: string;\n\n    friendIds: string[];\n    blockedUserIds: string[];\n\n    createdAt: Date;\n    updatedAt: Date;\n}\n\nexport class Auth implements IUser {\n    _id: string = undefined;\n    username: string = undefined;\n    displayName: string = undefined;\n    avatarUrl: string = undefined;\n\n    isAnonymous: boolean = undefined;\n    email: string = undefined;\n\n    lang: string = undefined;\n    location: string = undefined;\n    timezone: string = undefined;\n    metadata: any = undefined;\n\n    devices: Device[] = undefined;\n\n    facebookId: string = undefined;\n    twitterId: string = undefined;\n    googleId: string = undefined;\n    gameCenterId: string = undefined;\n    steamId: string = undefined;\n\n    friendIds: string[] = undefined;\n    blockedUserIds: string[] = undefined;\n\n    createdAt: Date = undefined;\n    updatedAt: Date = undefined;\n\n    // auth token\n    token: string = undefined;\n\n    protected endpoint: string;\n    protected keepOnlineInterval: any;\n\n    constructor(endpoint: string) {\n        this.endpoint = endpoint.replace(\"ws\", \"http\");\n        getItem(TOKEN_STORAGE, (token) => this.token = token);\n    }\n\n    get hasToken() {\n        return !!this.token;\n    }\n\n    async login (options: {\n        accessToken?: string,\n        deviceId?: string,\n        platform?: string,\n        email?: string,\n        password?: string,\n    } = {}) {\n        const queryParams: any = Object.assign({}, options);\n\n        if (this.hasToken) {\n            queryParams.token = this.token;\n        }\n\n        const data = await this.request('post', '/auth', queryParams);\n\n        // set & cache token\n        this.token = data.token;\n        setItem(TOKEN_STORAGE, this.token);\n\n        for (let attr in data) {\n            if (this.hasOwnProperty(attr)) { this[attr] = data[attr]; }\n        }\n\n        this.registerPingService();\n\n        return this;\n    }\n\n    async save() {\n        await this.request('put', '/auth', {}, {\n            username: this.username,\n            displayName: this.displayName,\n            avatarUrl: this.avatarUrl,\n            lang: this.lang,\n            location: this.location,\n            timezone: this.timezone,\n        });\n\n        return this;\n    }\n\n    async getFriends() {\n        return (await this.request('get', '/friends/all')) as IUser[];\n    }\n\n    async getOnlineFriends() {\n        return (await this.request('get', '/friends/online')) as IUser[];\n    }\n\n    async getFriendRequests() {\n        return (await this.request('get', '/friends/requests')) as IUser[];\n    }\n\n    async sendFriendRequest(friendId: string) {\n        return (await this.request('post', '/friends/requests', { userId: friendId })) as IStatus;\n    }\n\n    async acceptFriendRequest(friendId: string) {\n        return (await this.request('put', '/friends/requests', { userId: friendId })) as IStatus;\n    }\n\n    async declineFriendRequest(friendId: string) {\n        return (await this.request('del', '/friends/requests', { userId: friendId })) as IStatus;\n    }\n\n    async blockUser(friendId: string) {\n        return (await this.request('post', '/friends/block', { userId: friendId })) as IStatus;\n    }\n\n    async unblockUser(friendId: string) {\n        return (await this.request('put', '/friends/block', { userId: friendId })) as IStatus;\n    }\n\n    async request(\n        method: 'get' | 'post' | 'put' | 'del',\n        segments: string,\n        query: {[key: string]: number | string} = {},\n        body?: any,\n        headers: {[key: string]: string} = {}\n    ) {\n        headers['Accept'] = 'application/json';\n        if (this.hasToken) { headers['Authorization'] = 'Bearer ' + this.token; }\n\n        const queryParams: string[] = [];\n        for (const name in query) {\n            queryParams.push(`${name}=${query[name]}`);\n        }\n\n        const queryString = (queryParams.length > 0)\n            ? `?${queryParams.join(\"&\")}`\n            : '';\n\n        const opts: Partial<http.Options> = { headers };\n        if (body) { opts.body = body; }\n\n        return (await http[method](`${this.endpoint}${segments}${queryString}`, opts)).data;\n    }\n\n    logout() {\n        this.token = undefined;\n        removeItem(TOKEN_STORAGE);\n        this.unregisterPingService();\n    }\n\n    registerPingService(timeout: number = 15000) {\n        this.unregisterPingService();\n\n        this.keepOnlineInterval = setInterval(() => this.request('get', '/auth'), timeout);\n    }\n\n    unregisterPingService() {\n        clearInterval(this.keepOnlineInterval);\n    }\n\n}\n","import { post, get } from \"httpie\";\n\nimport { ServerError } from './errors/ServerError';\nimport { Room, RoomAvailable } from './Room';\nimport { Auth } from './Auth';\nimport { SchemaConstructor } from './serializer/SchemaSerializer';\n\nexport type JoinOptions = any;\n\nexport class MatchMakeError extends Error {\n    code: number;\n    constructor(message: string, code: number) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, MatchMakeError.prototype);\n    }\n}\n\n// - React Native does not provide `window.location`\n// - Cocos Creator (Native) does not provide `window.location.hostname`\nconst DEFAULT_ENDPOINT = (typeof (window) !== \"undefined\" &&  typeof (window?.location?.hostname) !== \"undefined\")\n    ? `${window.location.protocol.replace(\"http\", \"ws\")}//${window.location.hostname}${(window.location.port && `:${window.location.port}`)}`\n    : \"ws://127.0.0.1:2567\";\n\nexport class Client {\n    protected endpoint: string;\n    protected _auth: Auth;\n\n    constructor(endpoint: string = DEFAULT_ENDPOINT) {\n        this.endpoint = endpoint;\n    }\n\n    public get auth(): Auth {\n        if (!this._auth) { this._auth = new Auth(this.endpoint); }\n        return this._auth;\n    }\n\n    public async joinOrCreate<T>(roomName: string, options: JoinOptions = {}, rootSchema?: SchemaConstructor<T>) {\n        return await this.createMatchMakeRequest<T>('joinOrCreate', roomName, options, rootSchema);\n    }\n\n    public async create<T>(roomName: string, options: JoinOptions = {}, rootSchema?: SchemaConstructor<T>) {\n        return await this.createMatchMakeRequest<T>('create', roomName, options, rootSchema);\n    }\n\n    public async join<T>(roomName: string, options: JoinOptions = {}, rootSchema?: SchemaConstructor<T>) {\n        return await this.createMatchMakeRequest<T>('join', roomName, options, rootSchema);\n    }\n\n    public async joinById<T>(roomId: string, options: JoinOptions = {}, rootSchema?: SchemaConstructor<T>) {\n        return await this.createMatchMakeRequest<T>('joinById', roomId, options, rootSchema);\n    }\n\n    public async reconnect<T>(roomId: string, sessionId: string, rootSchema?: SchemaConstructor<T>) {\n        return await this.createMatchMakeRequest<T>('joinById', roomId, { sessionId }, rootSchema);\n    }\n\n    public async getAvailableRooms<Metadata= any>(roomName: string = \"\"): Promise<RoomAvailable<Metadata>[]> {\n        const url = `${this.endpoint.replace(\"ws\", \"http\")}/matchmake/${roomName}`;\n        return (await get(url, { headers: { 'Accept': 'application/json' } })).data;\n    }\n\n    public async consumeSeatReservation<T>(response: any, rootSchema?: SchemaConstructor<T>): Promise<Room<T>> {\n        const room = this.createRoom<T>(response.room.name, rootSchema);\n        room.roomId = response.room.roomId;\n        room.sessionId = response.sessionId;\n\n        room.connect(this.buildEndpoint(response.room, { sessionId: room.sessionId }));\n\n        return new Promise((resolve, reject) => {\n            const onError = (code, message) => reject(new ServerError(code, message));\n            room.onError.once(onError);\n\n            room['onJoin'].once(() => {\n                room.onError.remove(onError);\n                resolve(room);\n            });\n        });\n    }\n\n    protected async createMatchMakeRequest<T>(\n        method: string,\n        roomName: string,\n        options: JoinOptions = {},\n        rootSchema?: SchemaConstructor<T>\n    ) {\n        const url = `${this.endpoint.replace(\"ws\", \"http\")}/matchmake/${method}/${roomName}`;\n\n        // automatically forward auth token, if present\n        if (this._auth && this._auth.hasToken) {\n            options.token = this._auth.token;\n        }\n\n        const response = (\n            await post(url, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(options)\n            })\n        ).data;\n\n        if (response.error) {\n            throw new MatchMakeError(response.error, response.code);\n        }\n\n        return this.consumeSeatReservation<T>(response, rootSchema);\n    }\n\n    protected createRoom<T>(roomName: string, rootSchema?: SchemaConstructor<T>) {\n        return new Room<T>(roomName, rootSchema);\n    }\n\n    protected buildEndpoint(room: any, options: any = {}) {\n        const params = [];\n\n        for (const name in options) {\n            if (!options.hasOwnProperty(name)) {\n                continue;\n            }\n            params.push(`${name}=${options[name]}`);\n        }\n\n        return `${this.endpoint}/${room.processId}/${room.roomId}?${params.join('&')}`;\n    }\n\n}\n","import { Serializer } from \"./Serializer\";\nimport { Schema, Reflection, Iterator } from \"@colyseus/schema\";\n\nexport type SchemaConstructor<T = Schema> = new (...args: any[]) => T;\n\nexport class SchemaSerializer<T extends Schema = any> implements Serializer<T> {\n    state: T;\n\n    setState(rawState: any): void {\n        this.state.decode(rawState);\n    }\n\n    getState() {\n        return this.state;\n    }\n\n    patch(patches) {\n        this.state.decode(patches);\n    }\n\n    teardown() {\n        this.state?.['$changes']?.root.clearRefs();\n    }\n\n    handshake(bytes: number[], it?: Iterator) {\n        if (this.state) {\n            // validate client/server definitinos\n            const reflection = new Reflection();\n            reflection.decode(bytes, it);\n\n        } else {\n            // initialize reflected state from server\n            this.state = Reflection.decode(bytes, it) as any;\n        }\n    }\n}\n","import { Serializer } from \"./Serializer\";\n\nexport class NoneSerializer<T = any> implements Serializer<T> {\n    setState(rawState: any): void {}\n    getState() { return null; }\n    patch(patches) {}\n    teardown() { }\n    handshake(bytes: number[]) {}\n}\n","import './legacy';\n\nexport { Client, JoinOptions } from './Client';\nexport { Protocol, ErrorCode } from './Protocol';\nexport { Room, RoomAvailable } from './Room';\nexport { Auth, Platform, Device } from \"./Auth\";\n\n/*\n * Serializers\n */\n\nimport { SchemaSerializer } from \"./serializer/SchemaSerializer\";\nimport { NoneSerializer } from \"./serializer/NoneSerializer\";\nimport { registerSerializer } from './serializer/Serializer';\n\nexport { registerSerializer, SchemaSerializer };\nregisterSerializer('schema', SchemaSerializer);\nregisterSerializer('none', NoneSerializer);\n"],"names":["utf8Read","utf8Length","NodeWebSocket","Protocol","ErrorCode","encode","msgpack.encode","decode","msgpack.decode","Platform","get","post","Reflection"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}